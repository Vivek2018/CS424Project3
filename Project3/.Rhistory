shiny::runApp()
runApp()
runApp()
runApp()
library(mapview)
library(tigris)
data <- read.csv('energy-usage-2010.csv')
library(mapview)
library(tigris)
data <- read.csv('energy-usage-2010.csv')
chicago_blocks <- blocks(state = "IL", count = "COOK", year = 2010)
chicago_tracts <- tracts(state = "IL", count = "COOK", year = 2010)
data_set <- merge(x = data, y = chicago_blocks, by = "GEOID10", all = TRUE)
chicago_set <- merge(x = chicago_blocks, y = data, by = "GEOID10", all = TRUE)
data <- read.csv('energy-usage-2010.csv')
chicago_blocks <- blocks(state = "IL", count = "COOK", year = 2010)
chicago_tracts <- tracts(state = "IL", count = "COOK", year = 2010)
combined_set <- merge(x = data, y = chicago_blocks, by = "GEOID10", all = TRUE)
combined_set <- combined_set[complete.cases(combined_set), ]
data$GEOID10 <- data$CENSUS.BLOCK
data$GEOID10 <- as.character(data$GEOID10)
combined_set <- merge(x = data, y = chicago_blocks, by = "GEOID10", all = TRUE)
combined_set <- combined_set[complete.cases(combined_set), ]
library(sf)
map_data <- st_as_sf(map_data, coords = c("INTPTLAT10","INTPTLON10"), csr = "NAD83")
map_data <- st_as_sf(combined_set, coords = c("INTPTLAT10","INTPTLON10"), csr = "NAD83")
combined_set[complete.cases(combined_set$INTPTLAT10), ]
combined_set[complete.cases(combined_set$INTPTLON10), ]
combined_set <- merge(x = data, y = chicago_blocks, by = "GEOID10", all = TRUE)
combined_set_cleaned <- combined_set[complete.cases(combined_set$INTPTLAT10), ]
combined_set_cleaned <- combined_set_cleaned[complete.cases(combined_set_cleaned$INTPTLON10), ]
map_data <- st_as_sf(combined_set_cleaned, coords = c("INTPTLAT10","INTPTLON10"), csr = "NAD83")
View(combined_set_cleaned)
map_data <- st_as_sf(x=combined_set_cleaned, coords = c("INTPTLAT10","INTPTLON10"), csr = "NAD83")
combined_set_cleaned <- combined_set %>% drop_na(INTPTLAT10, INTPTLON10)
library(tidyr)
combined_set_cleaned <- combined_set %>% drop_na(INTPTLAT10, INTPTLON10)
map_data <- st_as_sf(x=combined_set_cleaned, coords = c("INTPTLAT10","INTPTLON10"), csr = "NAD83")
)
map_data <- st_as_sf(x=combined_set_cleaned, coords = c("INTPTLAT10","INTPTLON10"), csr = "NAD83")
library(sf)
map_data <- st_as_sf(x=combined_set_cleaned, coords = c("INTPTLAT10","INTPTLON10"), csr = "NAD83")
views <- hash()
views[["Electricity"]] <- "KWH"
views[["Gas"]] <- "THERM"
views[["Building Type"]] <- "BUILDING.TYPE"
views[["Building Age"]] <- "AVERAGE.BUILDING.AGE"
views[["Building Height"]] <- "AVERAGE.STORIES"
views[["Total Population"]] <- "TOTAL.POPULATION"
timeframes <- hash()
timeframes[["Year"]] <- "TOTAL"
timeframes[["January"]] <- "JANUARY"
timeframes[["February"]] <- "FEBRUARY"
timeframes[["March"]] <- "MARCH"
timeframes[["April"]] <- "APRIL"
timeframes[["June"]] <- "JUNE"
timeframes[["July"]] <- "JULY"
timeframes[["August"]] <- "AUGUST"
timeframes[["September"]] <- "SEPTEMBER"
timeframes[["October"]] <- "OCTOBER"
timeframes[["November"]] <- "NOVEMBER"
timeframes[["December"]] <- "DECEMBER"
library(hash)
views <- hash()
views[["Electricity"]] <- "KWH"
views[["Gas"]] <- "THERM"
views[["Building Type"]] <- "BUILDING.TYPE"
views[["Building Age"]] <- "AVERAGE.BUILDING.AGE"
views[["Building Height"]] <- "AVERAGE.STORIES"
views[["Total Population"]] <- "TOTAL.POPULATION"
views[["test"]]
views[["Gas"]]
views["Gas"]
